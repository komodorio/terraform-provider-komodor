---
page_title: "komodor_workspace Resource - terraform-provider-komodor"
subcategory: "Workspaces"
description: |-
    Creates a Komodor Workspace
---

# komodor_workspace (Resource)

Creates a Komodor Workspace

This resource allows you to create and manage Komodor workspaces. Workspaces are used to organize and scope your Kubernetes resources in Komodor.

> **Note**: When using selectors and selectors patterns in workspaces, make sure to configure the tracked keys in the [Settings Page](https://app.komodor.com/settings/tracked-keys). For more information about workspace creation and optimization, see the [Komodor documentation](https://help.komodor.com/hc/en-us/articles/25537329198866-Workspaces-Creation-Optimisation).

## Example Usage

```terraform
terraform {
  required_providers {
    komodor = {
      source = "komodorio/komodor"
    }
  }
}

provider "komodor" {
  api_key = var.komodor_api_key
}

# Example 1: Basic workspace with specific clusters and namespaces
resource "komodor_workspace" "basic" {
  name        = "basic-workspace"
  description = "A workspace for monitoring specific resources"

  scopes {
    clusters = ["cluster-1", "cluster-2"]
    namespaces = ["default", "kube-system"]
  }
}

# Example 2: Workspace with pattern-based scopes
resource "komodor_workspace" "pattern" {
  name        = "pattern-workspace"
  description = "A workspace using pattern-based scopes"

  scopes {
    clusters_patterns {
      include = "prod-*"
      exclude = "prod-backup-*"
    }
    namespaces_patterns {
      include = "app-*"
      exclude = "app-test-*"
    }
  }
}

# Example 3: Workspace with selector-based scopes
resource "komodor_workspace" "selector" {
  name        = "selector-workspace"
  description = "A workspace using selector-based scopes"

  scopes {
    selectors_patterns {
      key   = "environment"
      type  = "label"
      value {
        include = "prod-*"
        exclude = ""
      }
    }
    clusters = ["cluster-1", "cluster-3"]
    namespaces_patterns {
      include = "*"
      exclude = ""
    }
  }
}
```

## Argument Reference

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String)
- `scopes` (Block List, Min: 1) (see [below for nested schema](#nestedblock--scopes))

### Optional

- `description` (String)

### Read-Only

- `author_email` (String)
- `created_at` (String)
- `id` (String) The ID of this resource.
- `last_updated_by_email` (String)
- `updated_at` (String)

<a id="nestedblock--scopes"></a>
### Nested Schema for `scopes`

Optional:

- `clusters` (List of String)
- `clusters_patterns` (Block List) (see [below for nested schema](#nestedblock--scopes--clusters_patterns))
- `namespaces` (List of String)
- `namespaces_patterns` (Block List) (see [below for nested schema](#nestedblock--scopes--namespaces_patterns))
- `selectors` (Block List) (see [below for nested schema](#nestedblock--scopes--selectors))
- `selectors_patterns` (Block List) (see [below for nested schema](#nestedblock--scopes--selectors_patterns))

<a id="nestedblock--scopes--clusters_patterns"></a>
### Nested Schema for `scopes.clusters_patterns`

Required:

- `exclude` (String)
- `include` (String)


<a id="nestedblock--scopes--namespaces_patterns"></a>
### Nested Schema for `scopes.namespaces_patterns`

Required:

- `exclude` (String)
- `include` (String)


<a id="nestedblock--scopes--selectors"></a>
### Nested Schema for `scopes.selectors`

Required:

- `key` (String)
- `type` (String)
- `value` (String)


<a id="nestedblock--scopes--selectors_patterns"></a>
### Nested Schema for `scopes.selectors_patterns`

Required:

- `key` (String)
- `type` (String)

Optional:

- `value` (Block List, Max: 1) (see [below for nested schema](#nestedblock--scopes--selectors_patterns--value))

<a id="nestedblock--scopes--selectors_patterns--value"></a>
### Nested Schema for `scopes.selectors_patterns.value`

Required:

- `exclude` (String)
- `include` (String)

## Import

This resource can be imported using the workspace ID:

```sh
terraform import komodor_workspace.example <workspace_id>
``` 